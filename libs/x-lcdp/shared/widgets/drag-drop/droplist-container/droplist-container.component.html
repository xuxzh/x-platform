<div class="size-full">
  <!-- // FIXME: 使用div并设置最小高度，会导致display不合理，如button；最小高度是否可以取消 -->
  <div *ngIf="rhData" class="size-full min-h-12" cdkDropList [cdkDropListData]="rhData"
    [cdkDropListConnectedTo]="dragDropService.dropLists" [cdkDropListEnterPredicate]="allowDropPredicate"
    (cdkDropListDropped)="dropped($event)" [ngStyle]="containerStyle">
    <div class="drag-item" *ngFor="let item of rhData.children;let index=index"
      [style.width]="item?.['x-component-props']?.['rhFill'] ? '100%' : ''" [style]="item['x-wrapper-styles']" cdkDrag
      [cdkDragData]="item" [cdkDragDisabled]="!jsonDesignerSer.selectStatusObj[item.key]"
      (cdkDragMoved)="dragMoved($event)" (cdkDragReleased)="dragReleased($event)">
      <!-- 拖动时的placeholder模板 -->
      <div class="drag-item-placeholder" *cdkDragPlaceholder>
        <i nz-icon nzType="tags" nzTheme="outline"></i>
        {{ item?.displayName }}
      </div>

      <!-- 拖动预览样式 -->
      <x-pool-item *cdkDragPreview [rhData]="$any(item)"> </x-pool-item>
      <!-- 快捷操作栏：拖动/删除等 -->
      <ng-container *ngIf="jsonDesignerSer.selectStatusObj[item.key]">
        <div class="wrapper-anchor">
          <div class="wrapper" (click)="stopPropagation($event)">
            <div class="button primary" title="拖动" cdkDragHandle>
              <span class="icon iconfont icon-move"></span>
            </div>
            <div class="button default" title="复制" (click)="copySchemaData(item)">
              <i class="icon iconfont" nz-icon nzType="copy" nzTheme="outline"></i>
            </div>
            <div class="button default" title="前移" (click)="changeItemPosition(index, 'up')">
              <i class="icon iconfont" nz-icon nzType="caret-up" nzTheme="outline"></i>
            </div>
            <div class="button default" title="后移" (click)="changeItemPosition(index, 'down')">
              <i class="icon iconfont" nz-icon nzType="caret-down" nzTheme="outline"></i>
            </div>
            <ng-container>
              <div class="button danger" title="删除" (click)="deleteSchemaData(item)">
                <i nz-icon nzType="delete" nzTheme="outline"></i>
              </div>
            </ng-container>
          </div>
        </div>
      </ng-container>
      <!-- 子组件渲染 -->
      <div class="drag-item-container" (click)="onSelectItemChange($event, item)">
        <x-comp-render [rhData]="item"></x-comp-render>
      </div>
    </div>
  </div>
</div>
